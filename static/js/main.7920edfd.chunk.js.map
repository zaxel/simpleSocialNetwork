{"version":3,"sources":["api/api.js","redux/DialogsReducer.js","assets/images/preloader.svg","components/Navbar/Navbar.module.css","components/Users/Users.module.css","components/common/FormsControls/FormsControls.js","serviceWorker.js","components/Header/Header.jsx","redux/AuthReducer.js","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","utils/objectHelpers/objectHelpers.js","redux/UsersReducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/UsersSelectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","components/Settings/Settings.jsx","components/Music/Music.jsx","redux/AppReducer.js","redux/SidebarReducer.js","redux/ReduxStore.js","hoc/withSuspense.js","App.js","index.js","components/common/FormsControls/FormsControls.module.css","utils/validators/Validators.js","assets/images/user.jpg","components/common/Preloader/Preloader.js","components/Header/Header.module.css","components/common/Paginator/Paginator.module.css","redux/ProfileReducer.js"],"names":["instence","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","followUser","id","post","unfollowUser","delete","getUserLogo","getUserProfile","console","warn","profileAPI","getUserStatus","updateStatuse","status","put","savePhoto","photoFile","formData","FormData","append","updateUserProfile","profile","authAPI","checkIfLogged","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","initialiseState","messages","message","dialogs","name","addMessageActionCreator","type","DialogsReducer","state","action","newMessage","module","exports","RequiredFieldTextarea","input","meta","touched","error","warning","placeholder","className","classes","RenderFieldInput","props","CreateField","component","validate","text","Boolean","window","location","hostname","match","Header","header","src","loginBlock","isAuth","profileIconSrc","alt","userLogo","onClick","to","isFetching","captchaUrl","setAuthUserData","setUserProfileLogo","getCaptchaUrlSaccess","url","setUserAuthBlock","dispatch","a","getUserLogos","photos","small","resultCode","AuthReducer","HeaderContainer","this","React","Component","connect","auth","Navbar","nav","item","activeClassName","activeLink","updateObjInArrey","objPropName","objNewProp","map","u","users","totalUsersCount","isFollowingInProgress","followSuccess","unFollowSuccess","setCurPage","toggleIsFetching","toggleFollowingInProgress","isInProgress","followUnfollowFlow","userId","apiMethod","actionCreator","UsersReducer","followed","filter","Paginator","onPageChanged","totalItemsCount","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","page","p","key","cn","selectedPage","e","User","usersLeftBlock","userPhoto","user","UserFollowStatus","disabled","some","unFollow","follow","usersRightBlock","userDescr","userName","userStatus","userLocation","userCity","userCountry","Users","getUsersSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getIsFollowingInProgress","UsersContainer","componentDidMount","pageNumber","Preloader","compose","bind","items","totalCount","maxLength25","maxLength","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","pass","remember","captchaInput","length","stopSubmit","_error","Settings","Counter","step","useReducer","Error","count","useEffect","setInterval","clearInterval","Music","setStep","value","onChange","Number","target","initialized","AppReducer","SidebarReducer","reducersBatch","combineReducers","profilePage","ProfileReducer","dialogsPage","sidebar","app","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","Suspense","fallback","ProfileContainer","lazy","DialogsContainer","News","App","catchAllUnhandledErrors","alert","initializeApp","addEventListener","componentWillUnmount","removeEventListener","exact","path","render","AppContainer","withRouter","promise","Promise","all","SocNetApp","StrictMode","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","undefined","max","minLength","min","alphaNumeric","test","preloader","posts","likes","addPostActionCreator","setStatus","setProfile","setUserStatus","updateUserStatus","file","updateProfile","includes","errorContact","errorChecker","contacts","log","reject","errorMessage","contactWithErrorMessage","substring","split","Object","keys","find","contact","charAt","toUpperCase","slice","newPost","postId"],"mappings":"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","file":"static/js/main.7920edfd.chunk.js","sourcesContent":["import React from 'react';\r\nimport * as axios from 'axios';\r\n\r\n\r\nconst instence = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\"API-KEY\" : \"1203fa1f-c9a4-43f5-bca3-2e2f29d0227d\"}\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers (currentPage = 1, pageSize = 10){\r\n        return instence.get(`users?page=${currentPage}&count=${pageSize}`)\r\n        .then (response => {\r\n            return response.data;\r\n        })\r\n    },\r\n\r\n    followUser (id){\r\n        return instence.post(`follow/${id}`)\r\n        .then (response => {\r\n            return response.data;\r\n        })\r\n    },\r\n\r\n    unfollowUser (id){\r\n        return instence.delete(`follow/${id}`)\r\n        .then (response => {\r\n            return response.data;\r\n        })\r\n    },\r\n\r\n    \r\n    getUserLogo (id){\r\n        return instence.get(`profile/${id}`)\r\n        .then (response => {\r\n            return response.data;\r\n        })\r\n    },\r\n\r\n    getUserProfile (id){\r\n        console.warn('Obsolete methode! Use profileAPI object instead!');\r\n        return profileAPI.getUserProfile(id);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getUserProfile (id){\r\n        return instence.get(`profile/${id}`)\r\n        .then (response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    getUserStatus (id){\r\n        return instence.get(`profile/status/${id}`)\r\n        .then (response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    updateStatuse (status){\r\n        return instence.put(`profile/status`, \r\n        {\r\n            status: status\r\n        })\r\n        .then (response => {\r\n            return response.data;\r\n        })\r\n        \r\n    },\r\n    savePhoto (photoFile){\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile);\r\n        return instence.put(`profile/photo`, formData, \r\n        {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n        .then (response => {\r\n            return response.data;\r\n        })\r\n    },\r\n\r\n    updateUserProfile (profile){\r\n        return instence.put(`profile`, profile)\r\n        .then (response => {\r\n            return response.data;\r\n        })\r\n    }\r\n}\r\nexport const authAPI = {\r\n    checkIfLogged (){\r\n        return instence.get(`auth/me`)\r\n        .then (response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    login (email, password, rememberMe = false, captcha = null){\r\n        return instence.post(`auth/login`, {\r\n            email, password, rememberMe, captcha\r\n        })\r\n        .then (response => {\r\n            return response.data;\r\n        })\r\n    },\r\n    logout (){\r\n        return instence.delete(`auth/login`)\r\n        .then (response => {\r\n            return response.data;\r\n        })\r\n    },\r\n\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaUrl (){\r\n        return instence.get(`security/get-captcha-url`)\r\n        .then (response => {\r\n            return response.data;\r\n        })\r\n    }\r\n    \r\n\r\n}\r\n\r\n","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialiseState = {\r\n    messages: [\r\n        { id: 1, message: \"Hi!\" },\r\n        { id: 2, message: \"Are you Ok?\" },\r\n        { id: 3, message: \"Please let me know. Be kind!\" },\r\n        { id: 4, message: \"Thanks< I'm allright!\" },\r\n        { id: 5, message: \"Ohh, thanks god!\" },\r\n        { id: 6, message: \"Handle backend logic or databases;\" },\r\n        { id: 7, message: \"Under the hood, it uses Babel and webpack, but you donâ€™t need to know anything about them.\" },\r\n      ],\r\n      dialogs: [\r\n        { id: 1, name: \"Mark\" },\r\n        { id: 2, name: \"John\" },\r\n        { id: 3, name: \"Sarah\" },\r\n        { id: 4, name: \"Jessie\" },\r\n        { id: 5, name: \"Andrew\" },\r\n      ],\r\n}\r\n\r\nconst DialogsReducer = (state = initialiseState, action) => {\r\n\r\n  switch(action.type){\r\n      case SEND_MESSAGE:\r\n        let newMessage = {\r\n          id: 8,\r\n          message: action.message\r\n        };\r\n        return{\r\n          ...state,\r\n        messages: [...state.messages, newMessage],\r\n        };\r\n      \r\n      default: \r\n          return state;\r\n  }\r\n}\r\n\r\nexport const addMessageActionCreator = (message)=>({ type: SEND_MESSAGE, message})\r\n\r\n \r\nexport default DialogsReducer;","module.exports = __webpack_public_path__ + \"static/media/preloader.142ac818.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2Kzpr\",\"item\":\"Navbar_item__1rGtI\",\"activeLink\":\"Navbar_activeLink__TJZ7V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Users_item__14vt8\",\"userPhoto\":\"Users_userPhoto__noMMW\",\"UserFollowStatus\":\"Users_UserFollowStatus__1TJzd\",\"usersRightBlock\":\"Users_usersRightBlock__1PSzG\",\"userName\":\"Users_userName__2ckIH\",\"page\":\"Users_page__3mZRZ\",\"selectedPage\":\"Users_selectedPage__oOQBI\"};","import React from 'react';\r\nimport classes from './FormsControls.module.css';\r\nimport { Field } from 'redux-form';\r\n\r\nexport const RequiredFieldTextarea = ({input, type, meta: { touched, error, warning } }) => (\r\n  <div>\r\n    <textarea {...input} placeholder={'some text from formsControls'} type={type} />\r\n    {touched &&\r\n      ((error && <span className={classes.error}>{error}</span>) ||\r\n        (warning && <span className={classes.warning}>{warning}</span>))}\r\n  </div>\r\n)\r\n \r\nexport const RenderFieldInput = ({input, type, meta: { touched, error, warning }, ...props }) => (\r\n  <div>\r\n    <input {...input} {...props} type={type} />\r\n    {touched &&\r\n      ((error && <span className={classes.error}>{error}</span>) ||\r\n        (warning && <span className={classes.warning}>{warning}</span>))}\r\n  </div>\r\n)\r\n \r\nexport const CreateField =(placeholder, component, validate, name, type ={}, warn=null, text ='' ) => {\r\n  return(\r\n    <div>\r\n      <Field placeholder={placeholder} component={component} validate={validate} name={name} type={type} warn={warn}/>{text}\r\n    </div>\r\n  )\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport classes from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport userLogo from './../../assets/images/user.jpg';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n      <header className={classes.header}>\r\n        <img src=\"data:image/png;base64,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\" />\r\n        <div className={classes.loginBlock}>\r\n          {props.isAuth \r\n          ? <>{props.login} \r\n              {props.profileIconSrc \r\n              ? <img src={props.profileIconSrc} alt=\"user logo\"/> \r\n              : <img src={userLogo} alt=\"user default photo\"/>}\r\n              <span onClick={props.logout}>Logout</span>\r\n            </> \r\n          : <NavLink to=\"/login\">Login</NavLink>}\r\n        </div>\r\n      </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import {usersAPI, authAPI, securityAPI} from './../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst SET_USERS_DATA = 'SET-USERS-DATA';\r\nconst SET_USER_PROFILE_LOGO = 'SET-USER-PROFILE-LOGO';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET-CAPTCHA-URL-SUCCESS';\r\n\r\n\r\nlet initialiseState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    profileIconSrc: null,\r\n    isFetching: false,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n\r\n}\r\n\r\nconst AuthReducer = (state = initialiseState, action) => {\r\n   \r\n    switch(action.type){\r\n       case SET_USERS_DATA:\r\n        return {\r\n            \r\n            ...state, \r\n            ...action.data,\r\n            \r\n        };\r\n\r\n        case SET_USER_PROFILE_LOGO:\r\n        return {\r\n            \r\n            ...state, \r\n            profileIconSrc: action.profileIconSrc\r\n            \r\n        };\r\n        \r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n        return {\r\n            \r\n            ...state, \r\n            captchaUrl: action.url\r\n            \r\n        };\r\n        \r\n        default:\r\n            return state;\r\n            \r\n\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (id, login, email, isAuth)=>({type: SET_USERS_DATA, data : {id, login, email, isAuth}});\r\nexport const setUserProfileLogo = (src)=>({type: SET_USER_PROFILE_LOGO, profileIconSrc : src});\r\nexport const getCaptchaUrlSaccess = (url)=>({type: GET_CAPTCHA_URL_SUCCESS, url});\r\n\r\nexport const setUserAuthBlock = () => {\r\n  return async (dispatch) => {\r\n    const getUserLogos = async (id) => {\r\n      const data = await usersAPI.getUserLogo(id);\r\n        dispatch(setUserProfileLogo(data.photos.small));\r\n    };\r\n    const data = await authAPI.checkIfLogged()\r\n      if (data.resultCode === 0) {\r\n        let { id, login, email } = data.data;\r\n        dispatch(setAuthUserData(id, login, email, true));\r\n        getUserLogos(id);\r\n      }\r\n  };\r\n};\r\n\r\nexport const login = (email, pass, remember, captchaInput) => {\r\n  return async (dispatch) => {\r\n    const data = await authAPI.login(email, pass, remember, captchaInput);\r\n    if (data.resultCode === 0) {\r\n      dispatch(setUserAuthBlock());\r\n      dispatch(getCaptchaUrlSaccess(null));\r\n    } else {\r\n      if (data.resultCode === 10){\r\n        dispatch(getCaptchaUrl());\r\n      }\r\n      let message = data.messages.length > 0 ? data.messages[0] : \"Some error\";\r\n      {\r\n        dispatch(stopSubmit(\"login\", { _error: message }));\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const getCaptchaUrl = () => {\r\n  return async (dispatch) => {\r\n    const data = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = data.url;\r\n\r\n\r\n      dispatch(getCaptchaUrlSaccess(captchaUrl));\r\n    \r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  return async (dispatch) => {\r\n    const data = await authAPI.logout();\r\n    if (data.resultCode === 0) {\r\n      dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n  };\r\n};\r\n\r\n    \r\nexport default AuthReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport {logout} from './../../redux/AuthReducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n \r\n  \r\n  \r\n\r\n  render(){\r\n    return (\r\n        <Header {...this.props}/>\r\n      );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) =>({ \r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n  id: state.auth.id,\r\n  profileIconSrc: state.auth.profileIconSrc\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n      <nav className={classes.nav}>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/profile\" activeClassName={classes.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/dialogs\"  activeClassName={classes.activeLink}>Message</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/news\"  activeClassName={classes.activeLink}>News</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/music\"  activeClassName={classes.activeLink}>Music</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/users\"  activeClassName={classes.activeLink}>Users</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/settings\" activeClassName={classes.activeLink}>Settings</NavLink>\r\n        </div>\r\n      </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","export const updateObjInArrey = (item, id, objPropName, objNewProp) => {\r\n    return item.map( u => {\r\n        if (u[objPropName] === id){\r\n            return {...u, ...objNewProp}\r\n        } \r\n        return u;\r\n    })\r\n}\r\n\r\n            // state.users.map( u => {\r\n            //     if (u.id === action.id){\r\n            //         return {...u, followed: false}\r\n            //     } \r\n            //     return u;","import {usersAPI} from './../api/api';\r\nimport {updateObjInArrey} from './../utils/objectHelpers/objectHelpers'\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_IN_PROGRESS = 'TOGGLE-IS-FOLLOWING-IN-PROGRESS';\r\n\r\n\r\nlet initialiseState = {\r\n    users: [\r\n        //{ userId: 1, userPhotoUrl: 'https://farm4.staticflickr.com/3704/10544706395_652766edde_c.jpg', followed: true, fullName: \"Alex B\", status: \"I am happy\", location: {country: \"UK\", city: \"Glasgow\" }},\r\n        //{ userId: 2, userPhotoUrl: 'https://farm4.staticflickr.com/3704/10544706395_652766edde_c.jpg', followed: false, fullName: \"Joss N\", status: \"Yo yo yo\", location: {country: \"UK\", city: \"London\" }},\r\n        //{ userId: 3, userPhotoUrl: 'https://farm4.staticflickr.com/3704/10544706395_652766edde_c.jpg', followed: false, fullName: \"Mark N\", status: \"Dancing every day\", location: {country: \"France\", city: \"Paris\" }},\r\n        //{ userId: 4, userPhotoUrl: 'https://farm4.staticflickr.com/3704/10544706395_652766edde_c.jpg', followed: false, fullName: \"Steave C\", status: \"enjoing my holydays\", location: {country: \"Germani\", city: \"Berlin\" }},\r\n        // { userId: 5, followed: true, fullName: \"Sarah V\", status: \"visit my site www.abracadabra.net\", location: {country: \"Ukrain\", city: \"Lviv\" }},\r\n        // { userId: 6, followed: false, fullName: \"Sandra B\", status: \"sleeping\", location: {country: \"Ukraine\", city: \"Kyiv\" }},\r\n        // { userId: 7, followed: true, fullName: \"Andrew S\", status: \"try best cookies in the Chad\", location: {country: \"Chad\", city: \"Tarkow\" }},\r\n        // { userId: 8, followed: false, fullName: \"Jessie S\", status: \"Always Coca-Cola\", location: {country: \"UK\", city: \"London\" }},\r\n        // { userId: 9, followed: true, fullName: \"Alex F\", status: \"Welcome friends to my page\", location: {country: \"UK\", city: \"London\" }},\r\n        // { userId: 10, followed: false, fullName: \"Fred N\", status: \"...\", location: {country: \"USA\", city: \"New York\" }},\r\n        // { userId: 11, followed: false, fullName: \"Arnold S\", status: \"I promice to be nice\", location: {country: \"USA\", city: \"Los Angeles\" }},\r\n        // { userId: 12, followed: true, fullName: \"Jessica A\", status: \"Let your energy, be free\", location: {country: \"USA\", city: \"Sacramento\" }},\r\n        // { userId: 13, followed: true, fullName: \"Kevin C\", status: \"Some statuse here\", location: {country: \"Ukraine\", city: \"Lviv\" }},\r\n        // { userId: 14, followed: true, fullName: \"Ben L\", status: \"Badabum...\", location: {country: \"Belarus\", city: \"Minsk\" }},\r\n        \r\n      ],\r\n      pageSize: 10,\r\n      totalUsersCount: 0,\r\n      currentPage: 1,\r\n      isFetching: false,\r\n      isFollowingInProgress: []\r\n}\r\n\r\nconst UsersReducer = (state = initialiseState, action) => {\r\n    switch(action.type){\r\n       case FOLLOW:\r\n        return {\r\n            ...state, \r\n            users: updateObjInArrey(state.users, action.id, 'id', {followed: true})\r\n        };\r\n\r\n       case UNFOLLOW:\r\n        return {\r\n            ...state, \r\n            users: updateObjInArrey(state.users, action.id, 'id', {followed: false}) \r\n        };\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...state, \r\n                users: action.users\r\n            };\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, \r\n                currentPage: action.currentPage\r\n            };\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state, \r\n                totalUsersCount: action.totalUsersCount\r\n            };\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state, \r\n                isFetching: action.isFetching\r\n            };\r\n        case TOGGLE_IS_FOLLOWING_IN_PROGRESS:\r\n            return {\r\n                ...state, \r\n                isFollowingInProgress: action.isInProgress \r\n                ? [...state.isFollowingInProgress, action.id]\r\n                : state.isFollowingInProgress.filter(id => id != action.id)\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const followSuccess = (id)=>({type: FOLLOW, id});\r\nexport const unFollowSuccess = (id)=>({type: UNFOLLOW, id});\r\nexport const setUser = (users) => ({type: SET_USERS, users});\r\nexport const setCurPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingInProgress = (isInProgress, id) => ({type: TOGGLE_IS_FOLLOWING_IN_PROGRESS, isInProgress, id});\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) =>{\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurPage(currentPage));\r\n        const data = await usersAPI.getUsers(currentPage, pageSize);\r\n            dispatch(toggleIsFetching(false));\r\n            dispatch(setUser(data.items));\r\n            dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n};\r\n\r\nconst followUnfollowFlow = async ( userId, dispatch, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingInProgress(true, userId));\r\n  const data = await apiMethod(userId);\r\n  if (data.resultCode == 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingInProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n  return (dispatch) => {\r\n    followUnfollowFlow(userId, dispatch, usersAPI.followUser.bind(usersAPI), followSuccess );\r\n  };\r\n};\r\n\r\nexport const unFollow = (userId) => {\r\n  return (dispatch) => {\r\n    followUnfollowFlow( userId, dispatch, usersAPI.unfollowUser.bind(usersAPI), unFollowSuccess );\r\n  };\r\n};\r\n  \r\n    \r\nexport default UsersReducer;","import React, { useState } from 'react';\r\nimport classes from './Paginator.module.css';\r\nimport cn from \"classnames\"\r\n\r\n\r\nconst Paginator = ({currentPage, onPageChanged, totalItemsCount, pageSize, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount /pageSize);\r\n    let pages = [];\r\n\r\n    for(let i=1; i<=pagesCount; i++){\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount/portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber-1)*portionSize+1;\r\n    let rightPortionPageNumber = portionNumber*portionSize;\r\n\r\n    return( \r\n        <div className={classes.page}> \r\n        {portionNumber > 1 && <button  onClick={()=>{setPortionNumber(1)}}>&lt;&lt;</button>}\r\n        {portionNumber > 1 && <button  onClick={()=>{setPortionNumber(portionNumber-1)}}>&lt;</button>}\r\n        \r\n        {pages\r\n        .filter(p =>\r\n            p >= leftPortionPageNumber && p <= rightPortionPageNumber\r\n        )\r\n        .map(p =>{  \r\n            return <span key={p}  className={cn({[classes.selectedPage] : currentPage === p})} \r\n            onClick={(e)=>{onPageChanged(p)}}>{p}</span> \r\n                }) \r\n            }\r\n\r\n            {portionCount > portionNumber && <button onClick={()=>{setPortionNumber(portionNumber+1)}}>&gt;</button>}\r\n            {portionCount > portionNumber && <button onClick={()=>{setPortionNumber(portionCount)}}>&gt;&gt;</button>}\r\n        </div>\r\n    )\r\n}\r\nexport default Paginator;","import React from 'react';\r\nimport classes from './Users.module.css';\r\nimport userPhoto from './../../assets/images/user.jpg';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\n\r\nconst User = (props) => {\r\n    return( \r\n            <div  className={classes.item}>\r\n                <div className={classes.usersLeftBlock}>\r\n                    <div className={classes.userPhoto}>\r\n                    <NavLink to={\"profile/\" + props.user.id}>\r\n                        <img src={props.user.photos.small != null ? props.user.photos.small : userPhoto} />\r\n                    </NavLink>\r\n                       \r\n                    </div>\r\n                    <div className={classes.UserFollowStatus}>\r\n                        {props.user.followed === true \r\n                        ? <button disabled={props.isFollowingInProgress.some(id => id === props.user.id)} onClick={()=>{\r\n                             props.unFollow(props.user.id);\r\n                        }}> unfollow</button> \r\n                        : <button disabled={props.isFollowingInProgress.some(id => id === props.user.id)} onClick={()=>{\r\n                                props.follow(props.user.id);\r\n                            }}>follow</button>}\r\n                    </div>\r\n                </div>\r\n                <div className={classes.usersRightBlock}>\r\n                    <div className={classes.userDescr}>\r\n                        <div className={classes.userName}>{props.user.name}</div>\r\n                        <div className={classes.userStatus}>{props.user.status != null ? props.user.status : \"Hey I using FaceBoorks now\" }</div>\r\n                    </div>\r\n                    <div className={classes.userLocation}>\r\n                        <div className={classes.userCity}>{\"props.user.location.country\"}</div>\r\n                        <div className={classes.userCountry}>{\"props.user.location.city\"}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nconst Users = (props) => {\r\n  return (\r\n    <div>\r\n      <Paginator\r\n        currentPage={props.currentPage}\r\n        onPageChanged={props.onPageChanged}\r\n        totalItemsCount={props.totalUsersCount}\r\n        pageSize={props.pageSize}\r\n      />\r\n      {props.users.map((u) => (\r\n        <User\r\n          key={u.id}\r\n          user={u}\r\n          isFollowingInProgress={props.isFollowingInProgress}\r\n          unFollow={props.unFollow}\r\n          follow={props.follow}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default Users;","export const getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getIsFollowingInProgress = (state) => {\r\n    return state.usersPage.isFollowingInProgress\r\n}","import React from 'react';\r\nimport {follow, unFollow, setCurPage, getUsers} from './../../redux/UsersReducer'\r\nimport { connect } from \"react-redux\";\r\nimport Users from './Users';\r\nimport Preloader from './../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport {getUsersSelector, getPageSize, getTotalUsersCount, \r\n    getCurrentPage, getIsFetching, getIsFollowingInProgress} from './../../redux/UsersSelectors';\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    \r\n\r\n    componentDidMount = () =>{\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render (){\r\n        return <>\r\n       {this.props.isFetching ? <Preloader/> : null}\r\n        <Users totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                unFollow={this.props.unFollow}\r\n                follow={this.props.follow}\r\n                // toggleFollowingInProgress={this.props.toggleFollowingInProgress}\r\n                isFollowingInProgress={this.props.isFollowingInProgress}\r\n                /> \r\n           </>\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return{\r\n        users: getUsersSelector(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        isFollowingInProgress: getIsFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n  \r\n  \r\nexport default compose(\r\n    connect (mapStateToProps, {follow, unFollow, setCurPage, getUsers}),\r\n    // withAuthRedirect\r\n)(UsersContainer);\r\n\r\n","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport {RenderFieldInput, CreateField} from './../common/FormsControls/FormsControls';\r\nimport {required, maxLength} from './../../utils/validators/Validators';\r\nimport { connect } from 'react-redux';\r\nimport {login, logout} from './../../redux/AuthReducer'\r\nimport { Redirect } from 'react-router-dom';\r\nimport classes from './../common/FormsControls/FormsControls.module.css';\r\n\r\nconst maxLength25 = maxLength(25);\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) =>{\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {CreateField('email', RenderFieldInput, [required, maxLength25], 'email')}\r\n            {CreateField('password', RenderFieldInput, [required, maxLength25], 'pass', 'password')}\r\n            {CreateField(null, 'input', [], 'rememberMe', 'checkbox', null, 'remember me')}\r\n            \r\n            {captchaUrl && <img src={captchaUrl} alt=\"captcha\"></img>}\r\n            {captchaUrl && <div>{CreateField('please enter the symbols', RenderFieldInput, [required], 'captchaInput')}</div>}\r\n            {error && <div className={classes.error}> {error} </div>}\r\n            <div>\r\n                <button>LOGIN</button>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: \"login\"})(LoginForm)\r\n\r\nconst Login = (props) =>{\r\n    const onSubmit = (formData) =>{\r\n        // console.log(formData);\r\n        props.login(formData.email, formData.pass, formData.rememberMe, formData.captchaInput)\r\n    }\r\n\r\n    if (props.isAuth){\r\n        return (<Redirect to={'/profile'}/>)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1>LOGIN</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) =>({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n});\r\n\r\nexport default connect(mapStateToProps, {login}) (Login);","import React from 'react';\r\nimport classes from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return (\r\n      <div>\r\n        <div>Some Settings Going To Be There</div>\r\n        <div>So please be ready!</div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Settings;","import React, {useState, useEffect, useReducer,} from 'react';\r\nimport classes from './Music.module.css';\r\n\r\n\r\nfunction Counter({ step }) {\r\n  const [count, dispatch] = useReducer(reducer, 0);\r\n\r\n  function reducer(state, action) {\r\n    if (action.type === 'tick') {\r\n      return state + step;\r\n    } else {\r\n      throw new Error();\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const id = setInterval(() => {\r\n      dispatch({ type: 'tick' });\r\n    }, 1000);\r\n    return () => clearInterval(id);\r\n  }, [dispatch]);\r\n\r\n  return <h1>{count}</h1>;\r\n}\r\n\r\n\r\nconst Music = () => {\r\n  const [step, setStep] = useState(1);\r\n\r\n  return (\r\n    <>\r\n      <Counter step={step} />\r\n      <input value={step} onChange={e => setStep(Number(e.target.value))} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Music;","import {usersAPI, authAPI} from '../api/api';\r\nimport {setUserAuthBlock} from './AuthReducer'\r\n\r\nconst SET_INITIALIZING = 'SET-INITIALIZING';\r\n\r\n\r\nlet initialiseState = {\r\n    initialized: false\r\n}\r\n\r\nconst AppReducer = (state = initialiseState, action) => {\r\n   \r\n    switch(action.type){\r\n       case SET_INITIALIZING:\r\n        return {\r\n            \r\n            ...state, \r\n            initialized: true\r\n            \r\n        };\r\n        default:\r\n          return state;\r\n\r\n    }\r\n}\r\n\r\nexport const initializingSuccess = ()=>({type: SET_INITIALIZING});\r\n\r\n\r\nexport const initializeApp = () => {\r\n\r\n    return async (dispatch) =>{\r\n      let promise = dispatch(setUserAuthBlock());\r\n      // dispatch(somethingElse());\r\n      // dispatch(somethingElse());\r\n\r\n      await Promise.all([promise])\r\n        dispatch(initializingSuccess());\r\n    }\r\n}\r\n\r\n\r\n    \r\nexport default AppReducer;","let initialiseState = {};\r\n\r\nconst SidebarReducer = (state = initialiseState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default  SidebarReducer;","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport ProfileReducer from './ProfileReducer';\r\nimport DialogsReducer from './DialogsReducer';\r\nimport SidebarReducer from './SidebarReducer';\r\nimport UsersReducer from './UsersReducer';\r\nimport AuthReducer from './AuthReducer';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport AppReducer from './AppReducer';\r\n\r\n\r\n\r\nlet reducersBatch = combineReducers({\r\n    profilePage: ProfileReducer,\r\n    dialogsPage: DialogsReducer,\r\n    sidebar: SidebarReducer,\r\n    usersPage: UsersReducer,\r\n    auth: AuthReducer,\r\n    app: AppReducer,\r\n    form: formReducer,\r\n    \r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducersBatch, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from 'react';\r\n\r\n\r\nexport const withSuspense =(Component) =>{\r\n    return (props)=>{\r\n        return <React.Suspense fallback={<div> ...Loading</div>}>\r\n              <Component {...props} />\r\n            </React.Suspense>\r\n    }\r\n  \r\n}","import React from \"react\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport \"./App.css\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport {Route, withRouter, HashRouter, Switch, Redirect} from \"react-router-dom\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport LoginPage from \"./components/Login/Login\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport Music from \"./components/Music/Music\";\r\nimport { compose } from \"redux\";\r\nimport {connect, Provider} from 'react-redux';\r\nimport {initializeApp} from './redux/AppReducer';\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport store from './redux/ReduxStore';\r\nimport {withSuspense} from './hoc/withSuspense';\r\n\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst News = React.lazy(() => import('./components/News/News'));\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n  catchAllUnhandledErrors = () =>{\r\n    alert('Some error ocurred!!!');\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.props.initializeApp();\r\n    window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors);\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n  }\r\n\r\n  render(){\r\n    if(!this.props.initialized){return <Preloader/>}\r\n    \r\n    return (\r\n      // <BrowserRouter>\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <Navbar />\r\n\r\n        <div className=\"app-wrapper-content\">\r\n          <Switch>\r\n          <Route exact path=\"/\" render={() => <Redirect to={\"/profile\"}/>} />\r\n            <Route\r\n              path=\"/profile/:userId?\"\r\n              render={withSuspense(ProfileContainer)}\r\n            />\r\n            <Route\r\n              path=\"/dialogs\"\r\n              render={withSuspense(DialogsContainer)}\r\n            />\r\n            <Route path=\"/news\" render={withSuspense(News)} />\r\n            <Route path=\"/music\" render={() => <Music />} />\r\n            <Route path=\"/users\" render={() => <UsersContainer />} />\r\n            <Route path=\"/settings\" render={() => <Settings />} />\r\n            <Route path=\"/login\" render={() => <LoginPage />} />\r\n            <Route path=\"*\" render={() => <div>404 NOT FOUND</div>} />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n      // </BrowserRouter>\r\n    );\r\n  }\r\n  \r\n};\r\n\r\nconst mapStateToProps = (state) =>({\r\n  initialized: state.app.initialized\r\n});\r\n\r\nconst AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, {initializeApp}),\r\n  // withAuthRedirect\r\n)(App);\r\n\r\nconst SocNetApp = () =>{\r\n  return <React.StrictMode>\r\n    <BrowserRouter >\r\n      <Provider store={store}>\r\n        <AppContainer />\r\n      </Provider>\r\n    </BrowserRouter>\r\n  </React.StrictMode>\r\n}\r\n\r\nexport default SocNetApp;","import * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SocNetApp from './App'\r\n\r\n\r\nReactDOM.render( <SocNetApp /> , document.getElementById(\"root\"));\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControls_error__2Ou9r\",\"warning\":\"FormsControls_warning__1CAZl\"};","import React from 'react'\r\n\r\nexport const required = (value) => (value || typeof value === 'number' ? undefined : 'Required')\r\n\r\nexport const maxLength = (max) => value =>\r\n  value && value.length > max ? `Must be ${max} characters or less` : undefined\r\n\r\nexport const minLength = min => value =>\r\n  value && value.length < min ? `Must be ${min} characters or more` : undefined\r\n\r\nexport const isUrlValid = (userInput) => \r\nuserInput && userInput.match(/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g) == null  ?\r\n  `Please enter valid link` : undefined\r\n\r\nexport const alphaNumeric = value =>\r\n  value && /[^a-zA-Z0-9 ]/i.test(value)\r\n    ? 'Only alphanumeric characters'\r\n    : undefined\r\n\r\n\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/user.e2eb4ab4.jpg\";","import preloader from './../../../assets/images/preloader.svg'\r\nimport React from 'react';\r\n\r\nconst Preloader = (props) => {\r\n    return(<img src={preloader}/> );\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1RSq5\",\"loginBlock\":\"Header_loginBlock__eGG01\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__2oY6T\",\"page\":\"Paginator_page__2Pn8u\"};","import {usersAPI, profileAPI} from './../api/api';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst DELETE_POST = 'DELETE-POST';\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_USER_STATUS = 'SET-USER-STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE-PHOTO-SUCCESS';\r\n\r\nlet initialiseState = {\r\n    posts: [\r\n        { id: 1, likes: 12, post: \"Hi! How are you?\" },\r\n        { id: 2, likes: 122, post: \"It s my first post.\" },\r\n        { id: 3, likes: 1, post: \"Gatsby is the best way to\" },\r\n        { id: 4, likes: 65, post: \"The following toolchains offer more flexibility and choice.\"},\r\n        { id: 5, likes: 3, post: \"We recommend them to more experienced users\" },\r\n      ],\r\n      profile: null,\r\n      status: ''\r\n}\r\nconst ProfileReducer = (state = initialiseState, action) => {\r\n    switch(action.type){\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 6,\r\n                likes: 0,\r\n                post: action.text}\r\n            return{\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        case SET_USER_PROFILE:\r\n            return{\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case SET_USER_STATUS:\r\n            return{\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        case DELETE_POST:\r\n            return{\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId),\r\n            };\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return{\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos},\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (text)=>({ type: ADD_POST , text})\r\nexport const deletePostActionCreator = (postId)=>({ type: DELETE_POST , postId})\r\nexport const addUpdateNewPostCreator = (text) => ({type: UPDATE_NEW_POST_TEXT, newPostText :text})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_USER_STATUS, status})\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\nexport const setProfile = (userId) => {\r\n    return async (dispatch) =>{\r\n      const data = await profileAPI.getUserProfile(userId);\r\n            dispatch(setUserProfile(data));\r\n}}\r\n\r\nexport const setUserStatus = (userId) => {\r\n    return async (dispatch) =>{\r\n        const data = await profileAPI.getUserStatus(userId);\r\n            dispatch(setStatus(data));\r\n}}\r\n\r\nexport const updateUserStatus = (status) => {\r\n    return async (dispatch) =>{\r\n    const data = await profileAPI.updateStatuse(status);\r\n        if(data.resultCode === 0){\r\n            dispatch(setStatus(status));\r\n        }\r\n} } \r\n\r\nexport const savePhoto = (file) => {\r\n    return async (dispatch) =>{\r\n        const data = await profileAPI.savePhoto(file);\r\n        if(data.resultCode === 0){\r\n            dispatch(savePhotoSuccess(data.data.photos));\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport const updateProfile = (profile) => {\r\n    return async (dispatch) =>{\r\n    const data = await profileAPI.updateUserProfile(profile);\r\n        if(data.resultCode === 0){\r\n            dispatch(setProfile(profile.userId));\r\n        }else {\r\n            let message = data.messages.length > 0 ? data.messages[0] : \"Some error\";\r\n            {\r\n                if(message.includes('Invalid url format')){\r\n                    const errorContact = errorChecker(profile.contacts, message);\r\n                    dispatch(stopSubmit(\"profile\", {[errorContact]: message}));\r\n                }else{\r\n                    dispatch(stopSubmit(\"profile\", { _error: message }));\r\n                }\r\n            }\r\n            console.log('reducer');\r\n            return Promise.reject();\r\n        } \r\n    } \r\n}\r\n    \r\nconst errorChecker = (contacts, errorMessage) => {\r\n        const contactWithErrorMessage = errorMessage.substring(0, errorMessage.length - 1).split('->')[1];\r\n \r\n        if (Object.keys(contacts).length > 0){\r\n            const contactsArrey = Object.keys(contacts);\r\n            return contactsArrey.find(contact => \r\n                contact.charAt(0).toUpperCase() + contact.slice(1) == contactWithErrorMessage)\r\n        }\r\n  };\r\n\r\n\r\n\r\nexport default ProfileReducer;"],"sourceRoot":""}