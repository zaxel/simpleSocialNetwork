{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/MessagesSection/Messages/Messages.jsx","components/Dialogs/MessagesSection/MessageSection.jsx","components/Dialogs/MessagesSection/MessageSectionContainer.jsx","components/Dialogs/DialogItems/DialogItems.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","Messages","props","className","classes","message","maxLength15","maxLength","MessageSectionReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","RequiredFieldTextarea","name","validate","required","MessageSection","postMessageItem","messages","map","post","postBlock","formData","onSendMessage","MessageSectionContainer","connect","state","dialogsPage","newMessageText","dispatch","text","addMessageActionCreator","DialogItems","dialog","to","id","Dialogs","dialogsElements","dialogs","dialogsItems","store","mapStateToPropsForRedirect","isAuth","auth","DialogsContainer","this","React","Component","compose","RedirectComponent"],"mappings":"yJACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,yBAAyB,OAAS,0B,yICYrMC,EARE,SAACC,GAChB,OAAO,yBAAKC,UAAWC,IAAQC,SAC9BH,EAAMG,U,iCCAHC,EAAcC,YAAU,IAiBxBC,EAA0BC,YAAU,CAACC,KAAM,sBAAjBD,EAdL,SAACP,GAC1B,OACE,0BAAMS,SAAUT,EAAMU,cACpB,6BACI,kBAACC,EAAA,EAAD,CAAOC,UAAWC,IAAwBC,KAAM,UAAWC,SAAU,CAACC,IAAUZ,MAElF,6BACE,iDA+BKa,EAtBQ,SAACjB,GAGtB,IAAIkB,EAAkBlB,EAAMmB,SAASC,KAAI,SAACC,GAAD,OACvC,kBAAC,EAAD,CAAUlB,QAASkB,EAAKlB,aAO1B,OACE,yBAAKF,UAAWC,IAAQoB,WACtB,2CACA,6BAAMJ,GACN,kBAACZ,EAAD,CAAyBG,SARb,SAACc,GAEfvB,EAAMwB,cAAcD,EAASpB,c,QCdlBsB,EAFiBC,aAdV,SAACC,GACrB,MAAO,CACLR,SAAWQ,EAAMC,YAAYT,SAE7BU,eAAgBF,EAAMC,YAAYC,mBAIb,SAACC,GACxB,MAAO,CACLN,cAAe,SAACO,GAASD,EAASE,YAAwBD,QAI9BL,CAA6CT,G,0BCN9DgB,EATK,SAACjC,GACnB,OACE,yBAAKC,UAAWC,IAAQgC,QACtB,kBAAC,IAAD,CAASC,GAAI,YAAcnC,EAAMoC,IAAKpC,EAAMc,Q,kBCoBnCuB,EArBC,SAACrC,GACb,IAAIsC,EAAkBtC,EAAMuC,QAAQnB,KAAI,SAACc,GAAD,OACxC,kBAAC,EAAD,CAAYpB,KAAMoB,EAAOpB,KAAMsB,GAAIF,EAAOE,QAM5C,OACE,yBAAKnC,UAAWC,IAAQqC,SACtB,yBAAKtC,UAAWC,IAAQsC,cACrBF,GAEH,yBAAKrC,UAAWC,IAAQiB,UACtB,kBAAC,EAAD,CACAsB,MAAOzC,EAAMyC,W,QCjBjBC,EAA6B,SAACf,GAC9B,MAAM,CACFgB,OAAShB,EAAMiB,KAAKD,S,OCAtBE,E,oNAQF,OACE,6BACE,kBAAC,EAAD,CAASN,QAASO,KAAK9C,MAAMuC,QAASI,OAAQG,KAAK9C,MAAM2C,c,GAVlCI,IAAMC,WA4BtBC,sBACbvB,aAToB,SAACC,GACrB,MAAM,CACFc,MAAOd,EAAMC,YACbW,QAAUZ,EAAMC,YAAYW,WAMN,KDzBG,SAACS,GAAc,IACpCE,EADmC,uKAGjC,OAAKJ,KAAK9C,MAAM2C,OAET,kBAACK,EAAcF,KAAK9C,OAFI,kBAAC,IAAD,CAAUmC,GAAI,eAHZ,GACTY,IAAMC,WAWtC,OAFqCtB,YAASgB,EAA4B,GAArChB,CAAyCwB,KCcnED,CAGXJ","file":"static/js/4.cf805a44.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3SME9\",\"dialogsItems\":\"Dialogs_dialogsItems__2nL4M\",\"dialog\":\"Dialogs_dialog__bfw9j\",\"messages\":\"Dialogs_messages__3dzfm\",\"message\":\"Dialogs_message__11d8Q\",\"active\":\"Dialogs_active__2eSRh\"};","import React from \"react\";\r\nimport classes from \"./Messages.module.css\";\r\n\r\n\r\n\r\nconst Messages = (props) => {\r\n  return <div className={classes.message}>\r\n  {props.message}\r\n  </div>;\r\n};\r\n\r\n\r\n\r\nexport default Messages;\r\n","import React from 'react';\r\nimport classes from './MessageSection.module.css';\r\nimport Messages from './Messages/Messages';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport {required, maxLength} from './../../../utils/validators/Validators';\r\nimport {RequiredFieldTextarea} from './../../common/FormsControls/FormsControls';\r\n\r\nconst maxLength15 = maxLength(15);\r\n\r\n\r\nconst MessageSectionForm = (props) => {\r\n  return(\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n          <Field component={RequiredFieldTextarea}  name={'message'} validate={[required, maxLength15]}/>\r\n        </div>\r\n        <div>\r\n          <button>Add Post</button>\r\n          {/* <button>Remove</button> */}\r\n        </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst MessageSectionReduxForm = reduxForm({form: 'MessageSectionForm'})(MessageSectionForm);\r\n\r\nconst MessageSection = (props) => {\r\n\r\n\r\n  let postMessageItem = props.messages.map((post) => (\r\n    <Messages message={post.message} />\r\n  ));\r\n  \r\n  const onSubmit =(formData) =>{\r\n    // alert(formData.message)\r\n    props.onSendMessage(formData.message);\r\n  }\r\n  return (\r\n    <div className={classes.postBlock}>\r\n      <h3>My Messages</h3>\r\n      <div>{postMessageItem}</div>\r\n      <MessageSectionReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default MessageSection;\r\n","import {addMessageActionCreator} from './../../../redux/DialogsReducer';\r\nimport MessageSection from \"./MessageSection\";\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    messages : state.dialogsPage.messages,\r\n    // dispatch: state.dispatch,\r\n    newMessageText: state.dialogsPage.newMessageText\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onSendMessage: (text) =>{dispatch(addMessageActionCreator(text))}\r\n  }\r\n}\r\n\r\nconst MessageSectionContainer = connect(mapStateToProps, mapDispatchToProps)(MessageSection);\r\n\r\nexport default MessageSectionContainer;\r\n","import React from \"react\";\r\nimport classes from \"./DialogItems.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst DialogItems = (props) => {\r\n  return (\r\n    <div className={classes.dialog}>\r\n      <NavLink to={\"/dialogs/\" + props.id}>{props.name}</NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default DialogItems;\r\n","import React from \"react\";\r\nimport MessageSectionContainer from './MessagesSection/MessageSectionContainer';\r\nimport DialogItem from './DialogItems/DialogItems';\r\nimport classes from './Dialogs.module.css';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nconst Dialogs = (props) => {\r\n    let dialogsElements = props.dialogs.map((dialog) => (\r\n    <DialogItem name={dialog.name} id={dialog.id} />\r\n  ));\r\n\r\n\r\n    // if (!props.isAuth) return <Redirect to={\"/login\"}/>\r\n\r\n  return (\r\n    <div className={classes.dialogs}>\r\n      <div className={classes.dialogsItems}>\r\n        {dialogsElements}\r\n      </div>\r\n      <div className={classes.messages}>\r\n        <MessageSectionContainer\r\n        store={props.store}/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dialogs;\r\n","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return{\r\n        isAuth : state.auth.isAuth\r\n    }\r\n  }\r\n\r\nexport const withAuthRedirect =(Component) =>{\r\n    class RedirectComponent extends React.Component{\r\n        render(){\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"}/>\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    \r\n    let ConnectedAuthRedirectComponent = connect (mapStateToPropsForRedirect, {})(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","import React from \"react\";\r\nimport Dialogs from './Dialogs'\r\nimport { connect } from \"react-redux\";\r\nimport {withAuthRedirect} from './../../hoc/withAuthRedirect';\r\nimport { compose } from \"redux\";\r\n\r\nclass DialogsContainer extends React.Component{\r\n  componentDidMount(){\r\n    \r\n  }\r\n\r\n  render(){\r\n    \r\n      \r\n    return (\r\n      <div >\r\n        <Dialogs dialogs={this.props.dialogs} isAuth={this.props.isAuth}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// let AuthRedirectComponent = withAuthRedirect(DialogsContainer);\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return{\r\n      store: state.dialogsPage,\r\n      dialogs : state.dialogsPage.dialogs\r\n  }\r\n}\r\n\r\n\r\nexport default compose(\r\n  connect (mapStateToProps, {}),\r\n  withAuthRedirect\r\n  )(DialogsContainer);\r\n\r\n\r\n// export default connect (mapStateToProps, {})(AuthRedirectComponent);"],"sourceRoot":""}